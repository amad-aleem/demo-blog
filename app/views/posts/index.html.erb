<h2 class="text-center">List of Posts</h2>
<div class="container">
  <div class="row justify-content-end">
    <%= link_to(new_user_post_path, class: "btn btn-primary", style: "color: white;") do %>
      <i class="far fa-edit fa-2x"></i>
    <% end %>
  </div>
</div>
<% if @posts.length > 0 %>
<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Id</th>
      <%# <th scope="col">Name</th> %>
      <th scope="col">Title</th>
      <th scope="col">Status</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
        <tr>
            <% @posts.each do |post| %>
                <th scope="row"><%= post.id%></th>
                <%# <td><%= post.name</td> %>
                <td><%= post.title%></td>
                <% if post.published %>
                  <td class="text-success">Published</td>
                <% else %>
                  <td class="text-danger">Unpublished</td>
                <% end %>
                <td>
                  <%= link_to(user_post_path(current_user, post), class: 'btn btn-sm btn-info') do %>
                    <i class="fas fa-eye fa-2x"></i>
                  <% end %> 
                  <% if current_user == post.user %>
                    | <%= link_to(edit_user_post_path(current_user, post), class: 'btn btn-sm btn-secondary') do %>
                          <i class="fas fa-pencil-alt fa-2x"></i>
                      <% end %> 
                  | <%= link_to(user_post_path(current_user, post), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger') do %>
                      <i class="far fa-trash-alt fa-2x"></i>
                    <% end %> 
                  <% end %>
                  | <% if post.published %>
                      <%= link_to "Unpublish", unpublish_user_post_path(current_user, post), method: :put, class: 'btn btn-sm btn-danger' %>
                    <% else %>
                      <%= link_to "Publish", publish_user_post_path(current_user, post), method: :put, class: 'btn btn-sm btn-success' %>                  
                    <% end %>
                </td>
            
        </tr>
          </tbody>
            <% end %>
</table>
<% else %>
    <div class="container" style="padding: 50px;">
        <h2 class="text-center text-secondary ">No data to show ...</h2>
    </div>
<% end %>

